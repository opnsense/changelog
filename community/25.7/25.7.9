@ December 04, 2025

What is up everyone,

A bug snuck into the last release that did not properly disable the
caching of DNS entries when using multiple blocklists with different
network restrictions.  We have used the opportunity to polish the
notification code and apply behaviour during the migration of the
old blocklist to the new format.

The saga around safe command execution continues in this release
as well.  Otherwise it is a rather quiet release and 2025 is almost
over.  Happy holidays!

Here are the full patch notes:

o system: gateway monitor Shell class use et al
o system: no longer back up DUID but add compatibility glue to opnsense-importer
o system: replace exec() in config encrypt/decrypt
o system: replace history diff exec() with shell_safe()
o system: safe execution tweaks in rc.routing_configure
o system: fix log keyword search regression introduced in 25.7.7
o reporting: unbound: fix quick allow/blocklist actions by applying them to all blocklists
o firewall: run filterlog directly after rules apply and remove promiscous mode
o firewall: allow setting a custom authentication HTTP header for alias URL fetch (contributed by nox-404)
o firewall: for better IPv6 PMTU let "timex" and "paramprob" ICMP types through
o firewall: do not allow nesting in GeoIP aliases
o firewall: live log: restructure DOM layout to reduce wasted header space
o firewall: live log: revert static property, persistence is disabled for this grid
o firewall: safe execution changes in rules reloading code
o firewall: safe execution changes in rc.filter_synchronize
o dnsmasq: minor tweaks in lease commands
o firmware: Shell class replacements in scripting
o kea-dhcp: add lease commands, tabulator GroupBy, URL hashes
o kea-dhcp: add DNR option (contributed by schreibubi)
o network time: status: refactor to MVC/API
o ipsec: connections: prevent model caching when referring items within the same model
o ipsec: sessions: fix missing commands translation
o isc-dhcp: move syslog definitions to plugin file
o unbound: prevent caching of blocklist entries on overlapping subnet policies
o unbound: notify user if a blocklist reset is required
o unbound: reconfigure if marker file present
o unbound: missing lock in del_host_override action
o backend: minor shell execution changes and readability
o backend: use mwexecf(m) where possible
o backend: extend mwexecfb() with PID and log file support
o mvc: fix default sort order being ignored in fetchBindRequest()
o shell: rewite timeout() using safe execution functions
o ui: refresh notification status after default apply button is done
o ui: remove obsolete jQuery bootgrid files
o plugins: os-acme-client 4.11[1]
o plugins: os-ndp-proxy-go 1.1[2]
o plugins: os-tailscale 1.3[3]
o plugins: os-turnserver 1.1[4]
o plugins: os-upnp 1.8 features assorted improvements to plugin and daemon (contributed by Self-Hosting-Group)
o plugins: os-web-proxy-sso has been marked for removal in 26.1
o plugins: os-zabbix-agent 1.18[5]
o plugins: os-zabbix-proxy 1.16[6]
o ports: filterlog no longer uses unneeded promiscuous mode
o ports: openvpn 2.6.17[7]
o ports: unbound 1.24.2[8]


Stay safe,
Your OPNsense team

--
[1] PLUGINS:25.7/security/acme-client
[2] PLUGINS:25.7/net/ndp-proxy-go
[3] PLUGINS:25.7/security/tailscale
[4] PLUGINS:25.7/net/turnserver
[5] PLUGINS:25.7/net-mgmt/zabbix-agent
[6] PLUGINS:25.7/net-mgmt/zabbix-proxy
[7] OPENVPN26:2.6.17
[8] UNBOUND:1.24.2
