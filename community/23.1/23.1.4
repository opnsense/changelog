@ March 21, 2023

Good news everyone,

Another stable update to fix a StrongSwan regression and two OpenVPN
incompatibilities introduced prior.  We have also improved the service
handling code in multiple areas, fixed issues like the VIP migration
problem with IP alias on a CARP VIP and improved/simplified the firmware
settings now that cryptography flavours no longer exist.

Here are the full patch notes:

o system: address a number of web GUI startup problems
o system: service handling refactor, tweaks and improvements
o system: rework killbypid()/killbyname() behaviour
o system: use system_resolver_configure() everywhere
o reporting: simplify state collection for system-states.rrd
o interfaces: fix an issue with a batch killbyname() in static ARP case
o interfaces: make sure output buffering is disabled when downloading a packet capture
o interfaces: lock gateway save button while the request is being processed
o interfaces: fix IP alias with VHID validation issue
o dhcp: several plumbing improvements in service handling
o dnsmasq: remove now unused host configuration and refactor
o firmware: responsiveness fix (contributed by kulikov-a)
o firmware: move settings handling to full-fledged model
o firmware: add advanced/help toggles, cancel button, subscription errors
o monit: add permanent include statement for custom configuration files (contributed by codiflow)
o openvpn: add ovpn_status.py script and configd action to fetch connected clients
o openvpn: reintroduce "cipher" keyword for older clients
o openvpn: add missing static-challenge parsing for auth framework introduced in 23.1.3
o unbound: adhere to restart logic during hosts configure and wait for service to start
o unbound: add infra-keep-probing advanced option
o unbound: lowercase domain for case insensitive search in blocklists
o mvc: fix PHP warnings and dance around null/0.0.0 ambiguity in migration code
o plugins: os-api-backup 1.1[1]
o plugins: os-theme-cicada 1.34 (contributed by Team Rebellion)
o plugins: os-theme-tukan 1.27 (contributed by Team Rebellion)
o plugins: os-theme-vicuna 1.45 (contributed by Team Rebellion)
o ports: curl 7.88.1[2]
o ports: nss 3.89[3]
o ports: php 8.1.17[4]
o ports: py-vici 5.9.10
o ports: squid 5.8[5]
o ports: strongswan EAP-TLS upstream fix[6]

A hotfix release was issued as 23.1.4_1:

o dhcp: revert sending HUP to radvd for restart


Stay safe,
Your OPNsense team

--
[1] PLUGINS:23.1/sysutils/api-backup
[2] CURL:7.88.1
[3] NSS:3.89
[4] PHP8:8.1.17
[5] SQUID5:5.8
[6] https://github.com/opnsense/core/issues/6415
